language: java
sudo: true
jdk: oraclejdk11
install:
  - mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
  
addons:
  sonarcloud:
    organization: "azizguindo"
    token:
      secure: "U8gh2UdLfuopDJmv831CYPsbLQb2Ek2rYjtNWwphWRpoT3jl+tGM7kZEzy2GgbnyibYNCEWfIlB8hjbNuwVJRv00F4rqmaSDqmRB4BA/6UksUslLsUWa+KVf+IHFs6xj1sZQE6Y2G+Lcsxs7Ub15u4BB+Jcl48AhtSpmc61QsnVGo0CVSMRAyWTNXXl3GPuDzzXnZTmQ+uSWgqouwJElwV0xf8yNtSO/lhmkQoD1eijYOTDsY0/ai7sPlZCccMWycPRHjZUnCrciQPwtkHoF16rkhyDq2F7vn+9M6VzMiMsh1P2lTFavuDbOz5glmkvjHt82vnBCxipGkUEpwv4H7eWm/7DEZ1OiWuGLKx4ZlGMy5vT1Sr49zu5HiwghMpgJvraZPtmAfFzaaJ5iy6pJEBhG1Hmqi+/lHxnvoU0JxWb71LpfDtgT5rmSV0Wv8D/EaTHv5tXwWLBTyPzg+nhbXvbirzgY1wmsdBmbhXTsNltvKMYVj/VR4a81MtPG+uw9b7Yc7xj6teDKRUzQFz7NVXfdadFwN+Vs6k+JtANsYENgBBA1q1UuCpgjAUyHUBPGp4e9cFFGOFVK0jGFcBPOi07hfC7pD628nWLvmNUFtrGYL1bn3Kqm4xs4NAnSEwcyhZ65PYZ6wxCQ/gFosKskqx2ndtUD0js5+2BWMdQ/OsE=" # encrypted value of your token

script:
  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=azizguindo_calculator
  
after_deploy:
  - echo "deploying finished"
